# Fmajor's additional tools for the Grizli Pipeline
## Installation
### requirements
* should have installed the `Grizli` Pipeline
### install
```
conda activate <your-grizli-env>
conda env update --file environment.yml
```

# Q&A
## I install both `pyenv` and `anaconda`, how to setup them correctly (also for a tmux environment)
* put this in your .zshrc or .bashrc (based on your default shell of tmux)
``` shell
# for pyenv
if [[ -z "${USE_CONDA}" ]]; then
  export PYENV_ROOT="$HOME/.pyenv"
  export PATH="$PYENV_ROOT/bin:$PATH"
  if command -v pyenv 1>/dev/null 2>&1; then
    eval "$(pyenv init -)"
  fi
else
  # below is auto-generated by conda when install it, replace it with yours
  # >>> conda initialize >>>
  # !! Contents within this block are managed by 'conda init' !!
  __conda_setup="$('/Users/<user>/opt/anaconda3/bin/conda' 'shell.zsh' 'hook' 2> /dev/null)"
  if [ $? -eq 0 ]; then
      eval "$__conda_setup"
  else
      if [ -f "/Users/<user>/opt/anaconda3/etc/profile.d/conda.sh" ]; then
          . "/Users/<user>/opt/anaconda3/etc/profile.d/conda.sh"
      else
          export PATH="/Users/<user>/opt/anaconda3/bin:$PATH"
      fi
  fi
  unset __conda_setup
  # <<< conda initialize <<<

  # add this
  conda activate ${USE_CONDA_ENV}
fi
```
* open a new terminal
  * open a new tmux server with `tmux`
    * now when you use `<prefix>-c` to create new window, `which python` say it belong to the `pyenv` system
* open a new terminal
  * run `export USE_CONDA_ENV=base`
  * open a new tmux server with `tmux -S /tmp/tmux-grizli.sock`
    * now when you use `<prefix>-c` to create new window, `which python` say it belong to the `anaconda` system
  * you should attach the `anaconda` version of tmux use `tmux at -S /tmp/tmux-grizli.sock`
